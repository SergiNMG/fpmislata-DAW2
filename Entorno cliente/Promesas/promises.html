<script>
    let url = "http://localhost:3000/"

    function get(url) {
        // Return a new promise.
        return new Promise(function (resolve, reject) {
            // Do the usual XHR stuff
            var req = new XMLHttpRequest();
            req.open('GET', url + entidad);
            req.responseType = "json"
            req.onload = function () {
                if (req.status == 200) {
                    resolve(req.response); // Resolve the promise with the response text
                }
                else {
                    reject(Error(req.statusText)); // HTTP Errorïƒ  reject with statusText
                }
            };
            // Handle network errors
            req.onerror = function () {
                reject(Error("Network Error"));
            };
            req.send(); // Make the request
        });
    }

    let entidad = prompt("Introduce una entidad")

    get(url).then(response => {
        response.forEach(r => console.log(r))
    })
    .catch(error => console.log(error))
</script>